/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=e.webkitRequestFileSystem,a=e.requestFileSystem||i||e.mozRequestFileSystem,c="application/octet-stream",s=0,f=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,500)},u=function(t,n,o){for(var r=(n=[].concat(n)).length;r--;){var i=t["on"+n[r]];if("function"==typeof i)try{i.call(t,o||t)}catch(t){a=t,(e.setImmediate||e.setTimeout)(function(){throw a},0)}}var a},d=function(d,l){var v,p,w,y=this,m=d.type,h=!1,S=function(){u(y,"writestart progress write writeend".split(" "))},O=function(){if((h||!v)&&(v=n().createObjectURL(d)),p)p.location.href=v;else{void 0==e.open(v,"_blank")&&"undefined"!=typeof safari&&(e.location.href=v)}y.readyState=y.DONE,S(),f(v)},b=function(e){return function(){return y.readyState!==y.DONE?e.apply(this,arguments):void 0}},E={create:!0,exclusive:!1};return y.readyState=y.INIT,l||(l="download"),r?(v=n().createObjectURL(d),o.href=v,o.download=l,function(n){var o=t.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)}(o),y.readyState=y.DONE,S(),void f(v)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)&&(d=new Blob(["\ufeff",d],{type:d.type})),e.chrome&&m&&m!==c&&(w=d.slice||d.webkitSlice,d=w.call(d,0,d.size,c),h=!0),i&&"download"!==l&&(l+=".download"),(m===c||i)&&(p=e),a?(s+=d.size,void a(e.TEMPORARY,s,b(function(e){e.root.getDirectory("saved",E,b(function(e){var t=function(){e.getFile(l,E,b(function(e){e.createWriter(b(function(t){t.onwriteend=function(t){p.location.href=e.toURL(),y.readyState=y.DONE,u(y,"writeend",t),f(e)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&O()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=y["on"+e]}),t.write(d),y.abort=function(){t.abort(),y.readyState=y.DONE},y.readyState=y.WRITING}),O)}),O)};e.getFile(l,{create:!1},b(function(e){e.remove(),t()}),b(function(e){e.code===e.NOT_FOUND_ERR?t():O()}))}),O)}),O)):void O())},l=d.prototype,v=function(e,t){return new d(e,t)};return l.abort=function(){this.readyState=this.DONE,u(this,"abort")},l.readyState=l.INIT=0,l.WRITING=1,l.DONE=2,l.error=l.onwritestart=l.onprogress=l.onwrite=l.onabort=l.onerror=l.onwriteend=null,v}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});